<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Functional programming with Java & VAVR</title>

		<meta name="description" content="A web presentation about Functional programming with Java & VAVR">
		<meta name="author" content="Juan Antonio Bre√±a Moral">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<div class="reveal">

			<style>
.footer {
  position: absolute;
  left: 10px;
  bottom: 0px;
  z-index: 999;
}
			</style>

			<div class="footer">
				<small><a href="https://twitter.com/juanantoniobm" target="_blank">Twitter: @juanantoniobm</a></small>
			</div>

			<div class="slides">

				<section data-background="#FFFFFF">
					<section>
						<h2 style="color: #336699">The standarized open ladder of <span style="color: #CC9900">Functional programming</span></h2>
						<h2 style="color: #336699">with <span style="color: #CC9900">Java</span> & <span style="color: #CC9900">VAVR</span> (Level 1 2 3)</h2>
						<h3><span style="display: inline-block; color: black;  background: #DFFF6D; width:100px; width:170px;">#EYD</span></h3>
						<i style="color: #CC9900">Juan Antonio Bre√±a Moral</i>
						<p>v0.4.0-SNAPSHOT</p>
						<p></p>
					</section>
					<section>
						<h2>Control version</h2>
						<ol>
							<li><a href="./annex/" target="_blank">Functional concepts (Pune - October 2019)</a></li>
							<li><a href="./v030/" target="_blank">Functional patterns (Brussels & Madrid - November 2019)</a></li>
							<li><a href="#">Standardized Open Ladder of functional programming, Level 1 on Java (December 2019)</a></li>
						</ol>
					</section>
					<section>
						<p>
							<img src="./images/qrcode.png" width=40%"/>
						</p>
					</section>
				</section>

				<section align="left" data-background="#ffd7b5"><!-- data-background="./images/innovation.jpg" -->
					<h2 align="center">Who I am</h2>
					<table>
						<tr>
							<td>
								<img src="./images/jabAvatar.jpg" width="100%"/>
							</td>
							<td style="color: #336699; vertical-align: top">
								Juan Antonio Bre√±a Moral (40)<br />
								Chapter Lead, <!--Triathlete,--> Deejay & Mindstorms/STEAM teacher.<br />
								<a target="_blank" href="https://twitter.com/juanantoniobm">Twitter</a> |
								<a target="_blank" href="https://github.com/jabrena">Github</a></li> |
								<a target="_blank" href="www.linkedin.com/in/juanantoniobrenamoral">Linkedin</a>
							</td>
						</tr>
						<tr>
							<td colspan="2" align="center" style="color: #336699;">
								Purpose: <i>"Riding dragons with innovation & fun"</i>
							</td>
						</tr>
						<tr>
							<td colspan="2" align="center" style="color: #336699;">
								Quote: <i>"Pressure makes diamonds."</i><br />
								<i>- George S. Patton Jr.</i>
							</td>
						</tr>
					</table>
				</section>
				<!--
                Initial questions:

                - Developers using Java 11?
                - Developers using Java 8?
                - Developers using Streams?
                - Developers using Functional Interfaces?
                - Do you use Optional in the daily job?
                -->
                <section data-background="#FFFFFF">
					<section data-background="images/cicd-pipeline.png">
						<blockquote style="background-color:#FFF">
							<p>
								<strong>‚ÄúProduction is the best place on the Internet.‚Äù</strong>
							</p>
							<p>
                                - <a href="https://twitter.com/starbuxman" target="_blank">Josh Long</a>
							</p>
						</blockquote>
					</section>
					<!--
                    <section>
                        <h2>Comfort zone</h2>
                        <img src="./images/comfort.jpg" width="50%">
                    </section>
                    <section>
                        <h2>Dunning‚ÄìKruger effect</h2>
                        <img src="./images/dunning.jpg" width="60%">
                        <p>
                            <a href="https://en.wikipedia.org/wiki/Dunning%E2%80%93Kruger_effect" target="_blank">Wikipedia</a>
                        </p>
                    </section>
                    -->
                </section>
                <section data-background="#FFFFFF">
                    <h2 style="color: black">Agenda</h2>
                    <ol>
                        <li>Goals</li>
						<li>Functional programming</li>
						<li>A Roadmap</li>
						<li>SOLFP Level 1</li>
						<li>SOLFP Level 2</li>
						<li>SOLFP Level 3</li>
                        <!--
						<li>What are the limits with Java 8+?</li>
						<li>VAVR Intro</li>
                        <li>Functional programming concepts</li>

						<li>Functional patterns</li>

						-->

						<li>Sharpening the axe</li>
						<!--
						<li>The next level</li>
						<li>Pending stuff</li>
						-->
						<!--
                        <li>References</li>
                        -->
                        <li>Acknowledgements</li>
                        <li>Future talks</li>
						<!-- <li>Questions & Answers</li> -->
                    </ol>
                </section>

				<section data-background="#FFFFFF">

					<section>
						<h2>Goals</h2>
						<p>
                        I wish the audience could:
						</p>
						<ol>
							<li>Explain the Standardized open ladder of functional programming</li>
							<li>Use functional composition in the daily job</li>
							<li>Design with better Types</li>
						</ol>
					</section>
					<!--
					<section>
						<h2>Goals</h2>
						<p>
							Is Java, a functional language?
						</p>
						<ol>
							<li>Non-functional</li>
							<li>Mostly functional</li>
							<li>Purely functional</li>
						</ol>
					</section>
					-->
				</section>

				<section data-background="#FFFFFF">
					<!--
                    https://www.infoq.com/articles/How-Functional-is-Java-8/
                    https://www.beyondjava.net/java-8-functional-programming-language
                    https://www.javaworld.com/article/3319078/functional-programming-for-java-developers-part-2.html
                    https://ebaytech.berlin/declarative-concurrency-with-reactor-70507e04054a
                    https://stackoverflow.com/questions/50431709/what-is-value-in-pure-functional-programming
                    -->
					<section>
						<h2>Functional programming</h2>
						<p>
							<strong>functional programming is a programming paradigm</strong> style
							of building the structure and elements of computer programs‚Äîthat treats computation as
							<strong>the evaluation of mathematical functions and avoids changing-state and mutable data.</strong>
						</p>
						<p>
							You can model solutions using this paradigm with Scala, Clojure, Kotlin & Java in the JVM.
						</p>
						<p>
							<a href="https://en.wikipedia.org/wiki/Functional_programming" target="_blank">Wikipedia</a>
						</p>
					</section>
					<section>
						<h2>Functional programming</h2>
						<p>
							<img src="./images/characteristics.png" width="50%" />
						</p>
					</section>
					<section>
						<h2>Functional programming</h2>
						<h3>Java 8+</h3>
						<ul>
							<li>Œª</li>
							<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html" target="_">java.util.function.*</li>
							<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html" target="_blank">java.util.stream.*</li>
							<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html" target="_blank">Optional< T ></a></li>
							<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html" target="_blank">CompletableFuture< T ></a></li>
							<li><a href="https://cr.openjdk.java.net/~briangoetz/amber/pattern-match.html" target="_blank">Pattern Matching</a> (Java 14*)</li>
							<li><a href="https://openjdk.java.net/jeps/360" target="_blank">Sealed types</a> & <a href="https://openjdk.java.net/jeps/359" target="_blank">Java records</a> (Java 14*)</li>
						</ul>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional programming

							### Maven dependency

							https://mvnrepository.com/artifact/io.vavr/vavr
							``` xml
<dependency>
    <groupId>io.vavr</groupId>
    <artifactId>vavr</artifactId>
    <version>${vavr.version}</version>
</dependency>
							```
							Library weight: 876 KB
						</script>
					</section>
					<section>
						<h2>Functional programming</h2>
						<h3>VAVR</h3>
						<ul>
							<li><strong>io.vavr.core: </strong><a href="https://github.com/vavr-io/vavr/tree/master/src-gen/main/java/io/vavr" target="_blank"> Tuple0-8, Function0-8, CheckedFunction0-8</a>, <a href="https://github.com/vavr-io/vavr/tree/master/src/main/java/io/vavr" target="_blank">Lazy</a></li>
							<li><strong>io.vavr.control: </strong><a href="https://github.com/vavr-io/vavr/tree/master/src/main/java/io/vavr/control" target="_blank"> Option, Try, Either, Validation</a></li>
							<li><a href="https://static.javadoc.io/io.vavr/vavr/0.10.2/io/vavr/collection/package-summary.html" target="_blank">io.vavr.collection</a>: Seq, Map, Set</li>
							<li><strike>io.vavr.concurrency: Future</strike></li>
						</ul>
					</section>
				</section>
				<section data-background="#FFFFFF">

					<section>
						<h2>A roadmap</h2>
						<h3>Standardized open ladder of functional programming</h3>
						<p>
							<img src="./images/lambda.png" width="20%" />
						</p>
						<p>
							<a href="./roadmap.pdf" target="_blank">Further information</a>
						</p>
					</section>
				</section>
				<section data-background="#FFFFFF">
					<section>
						<h3>SOLFP Level 1</h3>
						<p>
							<strong>Agenda:</strong>
						</p>
						<ol>
							<li>Immutable Data</li>
							<li>Second-Order Functions</li>
							<li><strike>Constructoring & Destructuring</strike></li>
							<li>Function Composition</li>
							<li>Lambdas</li>
						</ol>
					</section>
					<section>
						<h3>SOLFP Level 1</h3>
						<p>
							<strong>Skills:</strong>
						</p>
						<ol>
							<li>Use second-order functions (map, filter, fold) on immutable data structures</li>
							<!-- <li>Destructure values to access their components</li> -->
							<li>Use data types to represent optionality</li>
							<li>Read basic type signatures</li>
							<li>Pass lambdas to second-order functions</li>
						</ol>
					</section>
					<section>
						<h2>Immutable Data</h2>
                        <p>
                            <a href="https://docs.oracle.com/javase/8/docs/api/java/util/package-summary.html" target="_blank">java.util.*</a>
                        </p>
						<img src="./images/javaCollection.png" width="50%">
					</section>
                    <section>
                        <h2>Immutable Data</h2>
                        <p>
                            <a href="https://static.javadoc.io/io.vavr/vavr/0.10.2/io/vavr/collection/package-summary.html" target="_blank">io.vavr.collection.*</a>
                        </p>
						<img src="images/vavr_architecture.jpg" width="80%" />
                    </section>
					<section data-markdown>
						<script type="text/template">
							## Immutable Data

							``` java
var list = java.util.List.of(1, 2, 3).stream()
.peek(System.out::println)
.collect(toUnmodifiableList()); //Java 10
//.collect(Collectors.collectingAndThen(
//    Collectors.toList(),
//    x -> Collections.unmodifiableList(x))); // Java 8

Assertions.assertThrows(UnsupportedOperationException.class, () -> {
	list.add(1); //Katacroker
});

							```

							https://docs.oracle.com/javase/8/docs/api/java/util/List.html
						</script>
					</section>
					<!--
                    https://mincong-h.github.io/2019/02/13/vavr-list-vs-java-list/
                    -->
					<section data-markdown>
						<script type="text/template">
							## Immutable Data

							``` java
var animals = io.vavr.collection.List.of("üê±", "üê∂");
animals.append("üêï");

then(animals.size()).isEqualTo(2);

animals = animals.append("üêï");

then(animals.size()).isEqualTo(3);
then(animals)
	.isEqualTo(io.vavr.collection.List.of("üê±", "üê∂", "üêï"));

							```

							https://static.javadoc.io/io.vavr/vavr/0.10.2/io/vavr/collection/List.html
						</script>
					</section>
					<section>
						<h2>Immutable Data</h2>
						<p>
							Performance Characteristics of Vavr Collections
						</p>
						<img src="images/timeComplexity1.png" width="80%" />
					</section>
					<section>
						<h2>Immutable Data</h2>
						<p>
							Performance Characteristics of Vavr Collections
						</p>
						<img src="images/timeComplexity2.png" width="70%" />
					</section>
					<section>
						<h2>Constructoring & Destructuring</h2>
						<p>
							Destructuring is a special syntax that allows us to ‚Äúunpack‚Äù arrays or objects
							into a bunch of variables.
						</p>
						<!--
	https://www.javacodegeeks.com/2014/12/tuple-and-entry-destructuring.html
	https://stackoverflow.com/questions/56586093/java-object-destructuring
	https://kotlinlang.org/docs/reference/multi-declarations.html
	https://opencredo.com/blogs/the-destructor-pattern/
						-->
					</section>
					<!--
					<section data-markdown>
						<script type="text/template">
							## Constructoring & Destructuring

							### Destructuring
							``` javascript
let arr = ["Juan Antonio", "40"]

// destructuring assignment
let [firstName, age] = arr;

alert(firstName); // Juan Antonio
alert(age);  // 40
							```
						</script>
					</section>
					-->
					<!--
					https://kotlinlang.org/docs/reference/multi-declarations.html
					https://www.baeldung.com/kotlin-destructuring-declarations
					https://cr.openjdk.java.net/~briangoetz/amber/pattern-match.html
					-->
					<section data-markdown>
						<script type="text/template">
							## Constructoring & Destructuring

							### Destructuring
							``` kotlin
data class Person(val name: String, val age: Int)

fun main() {

	val person = Person("Juan Antonio", 40)

	//Destructuring
	val (name, age) = person
	println(name)
	println(age)
}
							```
						</script>
					</section>
					<!--
					<section>
						<h2>Functional composition</h2>
						<img src="./images/waterTap.jpg">
					</section>
					-->
					<section>
						<h2>Functional composition</h2>
						<p>
							Function composition is a mechanism to combine simple functions to build more complicated ones.
						</p>
						<p>
							The ability to easily compose functions encourages factoring (breaking apart) functions for maintainability and code reuse.
						</p>
					</section>

					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Synchronous
							``` java
/**
* https://projecteuler.net/problem=20
* Problem 20: Factorial digit sum
* n! means n (n 1) ... 3 2 1
*
* For example, 10! = 10   9   ...   3   2   1 = 3628800,
*
* and the sum of the digits in the number 10! is
* 3 + 6 + 2 + 8 + 8 + 0 + 0 = 27.
*
* Find the sum of the digits in the number 100!
*
*/
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Synchronous
							``` java
public Long javaSolution(Long limit) {

	BigDecimal factorial = BigDecimal.valueOf(limit);
	for(long x = limit -1; x > 0; x--) {
		factorial = factorial.multiply(BigDecimal.valueOf(x));
	}

	String strFactorial = factorial.toString();
	long sum = 0L;
	for(int x = 0; x < strFactorial.length(); x++) {
		String digit = String.valueOf((char) strFactorial.charAt(x));
		sum += Long.valueOf(digit);
	}
	return sum;
}
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Synchronous
							``` java
public Long javaStreamSolution(Long limit) {
	//Functor composition
	return factorial
		.andThen(sumDigits)
		.apply(limit);
}

public Long JavaStreamSolution2(Long limit) {
	//Monad composition
	return Stream.of(limit)
		.map(factorial)
		.map(sumDigits)
		.findAny() //Optional<Long>
		.get(); //You need to be confident
}
								```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Synchronous
							``` java
Function<Long, BigInteger> factorial = limit ->
	LongStream.iterate(limit, i -> i - 1)
	.limit(limit)
	.mapToObj(BigInteger::valueOf)
	.reduce((n1, n2) -> n1.multiply(n2))
	.get();

Function<BigInteger, Long> sumDigits = value -> value.toString().chars()
	.mapToObj(c -> String.valueOf((char) c))
	.mapToLong(Long::valueOf)
	.reduce(0L, Long::sum);
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Synchronous
							``` java
public Mono<Long> ReactorSolution(Long limit) {

	return Mono.just(limit)
		.map(factorial)
		.map(sumDigits);
}
								```
						</script>
					</section>
					<!--
                                        <section data-markdown>
                                            <script type="text/template">
                                                ## Functional composition

                                                ``` java
                    @Test
                    public void andThenTest() {

                        Function<Integer, Integer> multiply = (value) -> value * 2;
                        Function<Integer, Integer> add      = (value) -> value + 3;
                        Function<Integer, Integer> multiplyThenAdd =
                            multiply.andThen(add);

                        Integer result2 = multiplyThenAdd.apply(3);

                        then(result2).isEqualTo(9);
                    }

                                                ```
                                            </script>
                                        </section>
                                        <section data-markdown>
                                            <script type="text/template">
                                                ## Functional composition

                                                ``` java
                    @Test
                    public void thenComposeTest() {

                        Function<Integer, Integer> multiply = (value) -> value * 2;
                        Function<Integer, Integer> add      = (value) -> value + 3;
                        Function<Integer, Integer> addThenMultiply =
                            multiply.compose(add);

                        Integer result1 = addThenMultiply.apply(3);

                        then(result1).isEqualTo(12);
                    }

                                                ```
                                            </script>
                                        </section>
                    -->
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Asynchronous
							``` gherkin
Feature: Consume some REST God Services

Background: Decimal representation of `Zeus` is 122101117115

Scenario: Consume the APIs in a Happy path scenario
	Given a list of REST API about Greek, Roman & Nordic
	When  call and retrieve all API info
	Then  filter by god starting with `n`
	And   convert the names into a decimal format
	And   sum
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Asynchronous
							``` java
public BigInteger JavaStreamSolution() {

	return fetchListAsync
		.andThen(filterGods)
		.andThen(sum)
		.apply(listOfGods);
}
							```
						</script>
					</section>
					<!--
                    <section data-markdown>
                        <script type="text/template">
                            ## Functional composition

                            ### Asynchronous
                            ``` java
Function<URL, CompletableFuture<String>> fetchAsync = address -> {

    LOGGER.info("Thread: {}", Thread.currentThread().getName());
    return CompletableFuture
        .supplyAsync(() ->
            fetch.andThen(log).apply(address), executor)
        .exceptionally(ex -> {
            LOGGER.error(ex.getLocalizedMessage(), ex);
            return DEFAULT_FETCH_ERROR;
        })
        .completeOnTimeout(DEFAULT_FETCH_ERROR, TIMEOUT, TimeUnit.SECONDS);
};

                            ```
                        </script>
                    </section>
                    -->
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Asynchronous
							``` java
Function<URL, CompletableFuture<String>> fetchAsyncJ8 = address -> {

	LOGGER.info("Thread: {}", Thread.currentThread().getName());
	return CompletableFuture
		.supplyAsync(() ->
			fetch.andThen(log).apply(address), executor)
		.handle((response, ex) -> {
			if(!Objects.isNull(ex)) {
				LOGGER.error(ex.getLocalizedMessage(), ex);
				return DEFAULT_FETCH_ERROR;
			}
			return response;
		});
};
								```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Asynchronous
							``` java
Function<List<String>, Stream<String>> fetchListAsyncJ8 = s -> {
	List<CompletableFuture<String>> futureRequests = s.stream()
		.map(toURL.andThen(fetchAsyncJ8))
		.collect(toList());

	return futureRequests.stream()
		.map(cf -> {
			try {
				return cf.get(TIMEOUT, TimeUnit.SECONDS);
			} catch (InterruptedException | ExecutionException | TimeoutException e) {
				return DEFAULT_FETCH_ERROR;
			}
		})
		.flatMap(serialize);
	};

									```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Asynchronous (Java 9+)
							``` java
Function<URL, CompletableFuture<String>> fetchAsync2 = address -> {

	LOGGER.info("Thread: {}", Thread.currentThread().getName());
	return CompletableFuture
		.supplyAsync(() -> fetch.andThen(log).apply(address), executor)
		.orTimeout(TIMEOUT, TimeUnit.SECONDS)
		.handle((response, ex) -> {
			if(!Objects.isNull(ex)) {
				LOGGER.error(ex.getLocalizedMessage(), ex);
				return DEFAULT_FETCH_ERROR;
			}
			return response;
		});
	};

								```
						</script>
					</section>

					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Asynchronous
							``` java
Function<List<String>, Stream<String>> fetchListAsync = s -> {
	List<CompletableFuture<String>> futureRequests = s.stream()
		.map(toURL.andThen(fetchAsync2))
		.collect(toList());

	return futureRequests.stream()
		.map(CompletableFuture::join)
		.flatMap(serialize);
};
									```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Asynchronous
							``` java
public Mono<BigInteger> reactorSolution() {

	return Flux.fromIterable(config.getList())
		.flatMap(asyncFetchFlux)
		.filter(godStartingByn)
		.transform(sumFlux)
		.doOnError(ex -> LOGGER.warn(ex.getLocalizedMessage(), ex))
		.onErrorReturn(BigInteger.ZERO)
		.next();
}
								```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Asynchronous
							``` java
Function<String, Flux<String>> asyncFetchFlux = list -> {

	return Flux.just(list)
		.publishOn(scheduler)
		.map(i -> toURL.andThen(fetch).apply(i))
		.timeout(Duration.ofSeconds(config.getTimeout()), DEFAULT_FALLBACK)
		.log()
		.flatMap(serializeFlux)
		.onErrorResume(ex -> DEFAULT_FALLBACK);
	};

	Function<Flux<String>, Mono<BigInteger>> sumFlux = ls -> ls
		.map(toDigits.andThen(concatDigits).andThen(BigInteger::new))
		.reduce(BigInteger.ZERO, (l1, l2) -> l1.add(l2));

									```
						</script>
					</section>
					<!--
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Asynchronous
							``` java
private CompletableFuture<Integer> cf(Integer param)  {

	return new CompletableFuture<>()
		.supplyAsync(() -> 1 + param)
		.handle((result, ex) -> {
			if(!Objects.isNull(ex)) {
				LOGGER.info("{}", 99);
				return 99;
			}
			LOGGER.info("{}", result);
			return result;
		});
}
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functional composition

							### Asynchronous
							``` java
@Test
public void composeTest() {

	then(this.cf(1)
		.thenCompose(cfResult -> cf(cfResult))
		.thenCompose(cfResult2 -> cf(cfResult2))
		.join())
		.isEqualTo(4);
}

							```
						</script>
					</section>
-->
					<!--
https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/Lambda-QuickStart/index.html
https://www.oracle.com/technical-resources/articles/java/architect-lambdas-part1.html
https://www.oracle.com/technical-resources/articles/java/architect-lambdas-part2.html
https://www.baeldung.com/exceptions-using-vavr
					-->
					<section>
						<h2>Lambdas</h2>
						<p>
Lambda expressions provide a clear and concise way to represent
one method interface using an expression.
						</p>
					</section>
					<section>
						<h2>Lambdas</h2>
						<p>
							java.util.function.*
						</p>
						<ul>
							<li>Predicate: A property of the object passed as argument</li>
							<li>Consumer: An action to be performed with the object passed as argument</li>
							<li>Function: Transform a T to a U</li>
							<li>Supplier: Provide an instance of a T (such as a factory)</li>
							<li>UnaryOperator: A unary operator from T -> T</li>
							<li>BinaryOperator: A binary operator from (T, T) -> T</li>
						</ul>
					</section>
				</section>
				<section data-background="#FFFFFF">
					<section>
						<h3>SOLFP Level 2</h3>
						<p>
							<strong>Agenda:</strong>
						</p>
						<ol>
							<li>Algebraic Data Types (Java 14*)</li>
							<li>Pattern Matching (Java 14*)</li>
							<li><strike>General Recursion</strike></li>
							<li><strike>Type Classes, instances, & Laws</strike></li>
							<li><strike>Lower-Order Abstractions (Equal, Semigroup, Monoid, etc)</strike></li>
							<li>Referential Transparency & Totality</li>
							<li>Higher-Order Functions</li>
							<li>Partial-Application, Currying<strike>, & Point-Free Style</strike></li>
						</ol>
					</section>
					<section>
						<h3>SOLFP Level 2</h3>
						<p>
							<strong>Skills:</strong>
						</p>
						<ol>
							<li>Solve problems without nulls, exceptions, or type casts</li>
							<li><strike>Process & transform recursive data structures using recursion</strike></li>
							<li>Able to use functional programming ‚Äúin the small‚Äù</li>
							<li>Write basic monadic code for a concrete monad</li>
							<!-- <li>Create type class instances for custom data types</li> -->
							<li>Model a business domain with ADTs</li>
							<li>Write functions that take and return functions</li>
							<!-- <li>Reliably identify & isolate pure code from impure code</li>-->
							<!-- <li>Avoid introducing unnecessary lambdas & named parameters</li> -->
						</ol>
					</section>
				</section>
                <!--
                https://ericdouglas.github.io/2016/12/04/functional-programming-study-plan/
                http://fantasyland.institute/labs/
                http://lambdaconf.us/downloads/documents/lambdaconf_slfp.pdf
                https://hub.packtpub.com/a-five-level-learning-roadmap-for-functional-programmers/
                https://lorgonblog.wordpress.com/2008/09/22/how-does-functional-programming-affect-the-structure-of-your-code/
                -->
                <section data-background="#FFFFFF">
					<section>
						<h3>SOLFP Level 3</h3>
						<p>
							<strong>Agenda:</strong>
						</p>
						<ol>
							<li>Generalized Algebraic Data Types</li>
							<li>Higher-Kinded Types</li>
							<li>Rank-N Types</li>
							<li>Folds & Unfolds</li>
							<li>Higher-Order abstractions (Category, Functor, Monad)</li>
							<li>Basic Optics</li>
							<li>Efficient Persistent Data Structures</li>
							<li>Embedded DSLs using Combinators</li>
						</ol>
					</section>
					<section>
						<h3>SOLFP Level 3</h3>
						<p>
							<strong>Skills:</strong>
						</p>
						<ol>
							<!-- <li>Able to use functional programming ‚Äúin the large‚Äù</li> -->
							<li>Test code using generators and properties</li>
							<li>Write imperative code in a purely functional way through monads</li>
							<!-- <li>Use popular purely functional libraries to solve business problems</li> -->
							<li>Separate decision from effects</li>
							<li>Write a simple custom lawful monad</li>
							<li>Write production medium-sized projects</li>
							<li>Use lenses & prisms to manipulate data</li>
							<li>Simplify types by hiding irrelevant data with existentials</li>
						</ol>
					</section>
					<section>
						<h3>SOLFP Level 3</h3>
						<img src="./images/theFinalFrontier.jpg" width="40%" />
					</section>
				</section>

					<!--
                    <section>
                        <h3>Proficient</h3>
                        <ol>
                            <li>Codata</li>
                            <li>(Co)Recursion Schemes</li>
                            <li>Advanced Optics</li>
                            <li>Dual Abstractions (Comonad)</li>
                            <li>Monad Transformers</li>
                            <li>Free Monads & Extensible Effects</li>
                            <li>Advanced Functors (Exponential, Profunctors, Contravariant)</li>
                            <li>Embedded DSLs using GADTs, Finally Tagless</li>
                            <li>Advanced Monads (Continuation, Logic)</li>
                            <li>Type Families, Functional Dependencies</li>
                        </ol>
                    </section>
                    -->
					<!--
                    SKILLS
                    Design a minimally-powerful monad transformer stack
                    Write concurrent and streaming programs
                    Use purely functional mocking in tests
                    Use type classes to modularly model different effects
                    Recognize type patterns & abstract over them
                    Use functional libraries in novel ways
                    Use optics to manipulate state
                    Write custom lawful monad transformers
                    Use free monads / extensible effects to separate concerns
                    Encode invariants at the type level
                    Effectively use FDs / type families to create safer code
                    -->
					<!--
                    <section>
                        <h3>Expert</h3>
                        <ol>
                            <li>Kind Polymorphism</li>
                            <li>Generic Programming</li>
                            <li>Type-Level Programming</li>
                            <li>Dependent-Types, Singleton Types</li>
                            <li>Category Theory</li>
                            <li>Graph Reduction</li>
                            <li>Higher-Order Abstract Syntax</li>
                            <li>Profunctor Optics</li>
                        </ol>
                    </section>
                    -->
<!--
SKILLS
Design a generic, lawful library with broad appeal
Prove properties manually using equational reasoning
Design & implement a new functional programming language
Create novel abstractions with laws
Write distributed systems with certain guarantees
Use proof systems to formally prove properties of code
Create libraries that do not permit invalid states
Use dependent-typing to prove more properties at compile-time
Understand deep relationships between different concepts
Profile, debug, & optimize purely functional code with minimal sacrifices
-->


                <!--
                <section data-background="#FFFFFF">




                    -->
<!--
To understand the concept
https://slides.com/mariusju/adts/fullscreen#/
https://www.slideshare.net/debasishg/qconny-12/
https://manishearth.github.io/blog/2017/03/04/what-are-sum-product-and-pi-types/
-->
					<!--
					<section>
						<h2>Algebraic Data Types (ADTs)</h2>
						<p>
							Algebraic Data Types, or ADTs for short, are powerful in representing the data model
							in a concise and transparent way.
						</p>
						<ul>
							<li>Sum types</li>
							<li>Product types</li>
						</ul>

					</section>
					<section>
						<h2>Algebraic Data Types (ADTs)</h2>
						<h3>Sum types</h3>
						<p>
							Sum types can be seen as types that capture state.
							technically, they are formed by a sealed base interface and two or more final implementations.
						</p>
						<ul>
							<li>Option</li>
							<li>Either</li>
							<li>Try</li>
							<li>VAVR Stream</li>
							<li>VAVR List</li>
						</ul>
					</section>
					<section>
						<h2>Algebraic Data Types (ADTs)</h2>
						<h3>Product types</h3>
						<p>
							Product types are different, they cannot have different states.
							The values can be seen as indexed values.
						</p>
						<ul>
							<li>Tuple</li>
						</ul>
					</section>
					<section>
						<h2>Sum types</h2>
						<ul>
							<li>Option</li>
							<li>Either</li>
							<li>Try</li>
							<li>VAVR Stream</li>
							<li>VAVR List</li>
						</ul>
					</section>
					<section>
						<h2>Sum types / Option</h2>
						<p>
							Option is a monadic container type which represents an optional value.
							Instances of Option are either an instance of Option.Some
							or the singleton Option.None.
						</p>
						<a href="https://static.javadoc.io/io.vavr/vavr/0.10.0/io/vavr/control/Option.html" target="_blank">Javadocs</a>
					</section>
					<section>
						<h2>Sum types / Option</h2>
						<img src="./images/option.png" />
					</section>
					<section data-markdown>
						<script type="text/template">
							## Sum types / Option

							``` java
							@Test
							public void optionTest1() {
							Option<String> noneOption = Option.of(null);
								Option<String> someOption = Option.of("val");

									then(noneOption).isEqualTo(Option.none());
									then(someOption).isEqualTo(Option.some("val"));
									}

									```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Sum types / Option

							``` java
							@Test
							public void optionTest2() {
							String name = null;
							Option<String> nameOption = Option.of(name);

								then(nameOption.getOrElse("string")).isEqualTo("string");
								}

								```
						</script>
					</section>
					<section>
						<h2>Sum types / Either</h2>
						<p>
							Either represents a value of two possible types.
							An Either is either a Either.Left or a  Either.Right.
						</p>
						<p>
							By convention, the Left signifies a failure case result
							and the Right signifies a success.
						</p>
						<a href="https://static.javadoc.io/io.vavr/vavr/0.10.0/io/vavr/control/Either.html" target="_blank">Javadocs</a>
					</section>
					<section>
						<h2>Sum types / Either</h2>
						<img src="./images/either.png" />
					</section>
					<section data-markdown>
						<script type="text/template">
							## Sum types / Either

							``` java
							Either<String, Integer> examValidation(int result) {
							if (result < 50) {
							return Either.left("Result not acceptable");
							} else {
							return Either.right(result);
							}
							}

							@Test
							public void given_someExamResults_when_validate_then_expectedResults() {

							then(examValidation(49).isLeft()).isTrue();
							then(examValidation(50).isLeft()).isFalse();
							then(examValidation(50).isRight()).isTrue();
							then(examValidation(60).isRight()).isTrue();
							}

							```
						</script>
					</section>
					<section>
						<h2>Sum types / Try</h2>
						<p>
							The Try control gives us the ability write safe code without
							focusing on try-catch blocks in the presence of exceptions.
						</p>
						<a href="https://static.javadoc.io/io.vavr/vavr/0.10.0/io/vavr/control/Try.html" target="_blank">Javadocs</a>
					</section>
					<section>
						<h2>Sum types / Try</h2>
						<img src="./images/try.png" />
					</section>
					<section data-markdown>
						<script type="text/template">
							## Sum types / Try

							``` java
							@Test
							public void given_unsafeMethod_when_executeMethod_thenKataKrokerTest() {

							Function2<Integer, Integer, Integer> unsafeDivide =
							(a, b) -> a / b;
							Try<Integer> result =
								Try.of(() -> unsafeDivide.apply(1, 0));

								then(result.isFailure()).isTrue();
								}

								```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Sum types / Try

							``` java
							@Test
							public void given_unsafeMethod_when_executeMethod_thenSameKataKrokerBehaviourTest() {

							Function2<Integer, Integer, Integer> unsafeDivide =
							(a, b) -> a / b;
							Try<Integer> result =
								Try.of(() -> unsafeDivide.apply(1, 0));
								result.getOrElse(-1);

								then(result.isFailure()).isTrue();
								}

								```
						</script>
					</section>
					<section>
						<h2>Product types</h2>
						<ul>
							<li>Tuple</li>
						</ul>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Product types / Tuple

							``` java
							// (Java, 8)
							Tuple2<String, Integer> java8 = Tuple.of("Java", 8);

							// "Java"
							String s = java8._1;

							// 8
							Integer i = java8._2;

							Tuple2<String, Integer> that = java8.map(
							s -> s.substring(2) + "vr",
							i -> i / 8
							);
							```
						</script>
					</section>
					<section>
						<h2>Functors</h2>
						<p>
							Functional programming is all about values and transformation of values using functions.
							Java 8 just provides a Function which accepts one parameter and a BiFunction which accepts two parameters.
							Vavr provides functions up to a limit of 8 parameters.
							The functional interfaces are of called Function0, Function1, Function2, Function3 and so on.
							If you need a function which throws a checked exception you can use CheckedFunction1, CheckedFunction2 and so on.
						</p>
					</section>

					<section>
						<h2>Functors</h2>
						<p>
							In fact Vavr functional interfaces are Java 8 functional interfaces on steroids.
							They also provide features like:
						</p>
						<ul>
							<li>Composition</li>
							<li>Lifting</li>
							<li>Partial application</li>
							<li>Currying</li>
							<li>Memoization</li>
						</ul>
					</section>
					<section>
						<h2>Functors / Composition</h2>
						<p>
							You can compose functions.
							In mathematics, function composition is the application of one function to the result of another
							to produce a third function.
							For instance, the functions f‚Äâ: X ‚Üí Y and g‚Äâ: Y ‚Üí Z can be composed to yield
							a function h: g(f(x)) which maps X ‚Üí Z.
						</p>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functors / Composition

							``` java
							@Test
							public void andThenTest() {

							Function1<Integer, Integer> plusOne =
							a -> a + 1;
							Function1<Integer, Integer> multiplyByTwo =
							a -> a * 2;
							Function1<Integer, Integer> add1AndMultiplyBy2 =
							plusOne.andThen(multiplyByTwo);

							then(add1AndMultiplyBy2.apply(2)).isEqualTo(6);
							}
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functors / Composition

							``` java
							@Test
							public void composeTest() {

							Function1<Integer, Integer> plusOne =
							a -> a + 1;
							Function1<Integer, Integer> multiplyByTwo =
							a -> a * 2;
							Function1<Integer, Integer> add1AndMultiplyBy2 =
							multiplyByTwo.compose(plusOne);

							then(add1AndMultiplyBy2.apply(2)).isEqualTo(6);
							}
							```
						</script>
					</section>
					<section>
						<h2>Functors / Lifting</h2>
						<p>
							The term partial function comes from mathematics.
							A partial function from X to Y is a function f: X‚Ä≤ ‚Üí Y, for some subset X‚Ä≤ of X.
							It generalizes the concept of a function f: X ‚Üí Y by not forcing f to map every element of X to an element of Y.
							That means a partial function works properly only for some input values.
						</p>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functors / Lifting

							``` java
							@Test
							public void liftExample1Test() {

							Function2<Integer, Integer, Integer> divide =
							(a, b) -> a / b;
							Function2<Integer, Integer, Option<Integer>> safeDivide =
								Function2.lift(divide);

								Option<Integer> d1 = safeDivide.apply(1, 0);
									Option<Integer> d2 = safeDivide.apply(4, 2);

										then(d1).isEqualTo(Option.none());
										then(d2).isEqualTo(Option.some(2));
										}
										```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functors / Lifting

							``` java
							Function2<Integer, Integer, Integer> sum = (first, second) -> {
							if (first < 0 || second < 0) {
							throw new IllegalArgumentException("Only positive integers are allowed");
							}
							return first + second;
							};
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functors / Lifting

							``` java
							@Test
							public void liftExample2Test() {

							Function2<Integer, Integer, Option<Integer>> sumSafe =
								Function2.lift(sum);

								Option<Integer> s1 = sumSafe.apply(-1, 2);
									Option<Integer> s2 = sumSafe.apply(1, 2);

										then(s1).isEqualTo(Option.none());
										then(s2).isEqualTo(Option.some(3));
										}
										```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functors / Lifting

							``` java
							@Test
							public void liftExample3Test() {

							long validSumCounter = IntStream.iterate(-5, i -> i + 1)
							.takeWhile(i -> i < 10)
							.mapToObj(i -> sumSafe.apply(i, 1))
							.filter(Option::isDefined)
							.peek(System.out::println)
							.count();

							then(validSumCounter).isEqualTo(10);
							}
							```
						</script>
					</section>
					<section>
						<h2>Functors / Partial application</h2>
						<p>
							Partial application allows you to derive a new function from an existing one by fixing some values.
							You can fix one or more parameters, and the number of fixed parameters defines the arity of
							the new function such that new arity = (original arity - fixed parameters).
							The parameters are bound from left to right.
						</p>
					</section>
					<section>
						<h2>Functors / Currying</h2>
						<p>
							Currying is a technique to partially apply a function by fixing a value for one of the parameters,
							resulting in a Function1 function that returns a Function1.
							When a Function2 is curried, the result is indistinguishable from the partial application
							of a Function2 because both result in a 1-arity function.
						</p>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functors / Currying

							``` java
							Function2<Integer, Integer, Integer> sum = (a, b) -> a + b;
							Function1<Integer, Integer> add2 = sum.curried().apply(2);

							then(add2.apply(4)).isEqualTo(6);

							Function3<Integer, Integer, Integer, Integer> sum = (a, b, c) -> a + b + c;
							final Function1<Integer, Function1<Integer, Integer>> add2 = sum.curried().apply(2);

							then(add2.apply(4).apply(3)).isEqualTo(9);
							```
						</script>
					</section>
					<section>
						<h2>Functors / Memoization</h2>
						<p>
							Memoization is a form of caching.
							A memoized function executes only once and then returns the result from a cache.
						</p>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Functors / Memoization

							``` java
							Function0<Double> hashCache =
								Function0.of(Math::random).memoized();

								double randomValue1 = hashCache.apply();
								double randomValue2 = hashCache.apply();

								then(randomValue1).isEqualTo(randomValue2);
								```
						</script>
					</section>
				-->
				<!--
				</section>
				-->

				<!--
				<section data-background="#FFFFFF">
					<section>
						<h2>Functional Concepts</h2>
						<ol>
							<li>Eager vs Lazy</li>
							<li>Mutable vs Immutable</li>
							<li>Pure vs Impure functions</li>
                            <li>Side effects</li>
							<li>List manipulation</li>

							<li>Equational reasoning</li>
							<li>Functional composition</li>
							<li>Referential Transparency</li>
							<li>Monads</li>
							<li>Effects</li>

						</ol>
					</section>
					<section>
						<h2>Eager vs Lazy</h2>
						<table>
							<thead>
							<tr>
								<th>Concept</th>
								<th>Description</th>
							</tr>
							</thead>
							<tbody>
							<tr>
								<td>Lazy</td>
								<td>Refers to the delaying of the evaluation of an operation until it is needed.
								</td>
							</tr>
							<tr>
								<td>Eager</td>
								<td>An operation is executed as soon as it is encountered.
								</td>
							</tr>
							</tbody>
						</table>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Eager vs Lazy

							``` java
System.out.println("First");
List<Integer> list = List.of(1,2,3);
Consumer<Integer> print = System.out::println;
Integer eager = list.stream()
	.peek(print)
	.reduce(0, (i1, i2) -> i1 + i2); // eager

System.out.println("Second");
Supplier<Integer> lazy = () -> list.stream()
	.peek(print)
	.reduce(0, (i1, i2) -> i1 + i2); // lazy

then(eager).isEqualTo(lazy.get());
System.out.println("Second computation");
then(eager).isEqualTo(lazy.get());

							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Eager vs Lazy

							``` java
Lazy<Double> lazy = Lazy.of(Math::random);
then(lazy.isEvaluated()).isFalse();

double val1 = lazy.get();
then(lazy.isEvaluated()).isTrue();

double val2 = lazy.get();
then(val1).isEqualTo(val2);

								```
						</script>
					</section>
					<section>
						<h2>Mutable vs Immutable</h2>
						<img src="./images/javaCollection.png">
					</section>

					<section data-markdown>
						<script type="text/template">
							## Mutable vs Immutable

							``` java
var list = java.util.List.of(1, 2, 3).stream()
	.peek(System.out::println)
	.collect(toUnmodifiableList()); //Java 10
	//.collect(Collectors.collectingAndThen(
	//    Collectors.toList(),
	//    x -> Collections.unmodifiableList(x))); // Java 8

Assertions.assertThrows(UnsupportedOperationException.class, () -> {
	list.add(1); //Katacroker
});

							```
						</script>
					</section>

                    //https://mincong-h.github.io/2019/02/13/vavr-list-vs-java-list/

					<section data-markdown>
						<script type="text/template">
							## Mutable vs Immutable

							``` java
var animals = io.vavr.collection.List.of("üê±", "üê∂");
animals.append("üêï");

then(animals.size()).isEqualTo(2);

animals = animals.append("üêï");

then(animals.size()).isEqualTo(3);
then(animals)
    .isEqualTo(io.vavr.collection.List.of("üê±", "üê∂", "üêï"));

							```
						</script>
					</section>



					<section>
						<h2>Pure vs Impure functions</h2>
						<p>
							Characteristics of Pure Function:
						</p>
						<ul>
							<li>The return value of the pure functions solely depends on its arguments Hence, if you call the pure functions with the same set of arguments, you will always get the same return values.</li>
                            <li>They do not have any <strong>side effects</strong> like network or database calls</li>
							<li>They do not mod¬≠ify the arguments which are passed to them</li>
						</ul>
					</section>
                    <section>
                        <h2>Side Effects</h2>
                        <img src="./images/side-effect.jpg">
                        <p>
                            A side effect is any application state change that is observable outside
                            the called function other than its return value.
                        </p>
                    </section>

					<section data-markdown>
						<script type="text/template">
							## Pure vs Impure functions

							Imperative

							``` java
private Double impureFunc(Integer value) { return Math.random() * value; };
private Double pureFunc(Integer value) { return Double.valueOf(value * value); };

private void imperativeStyle() {
var impureOutput = new ArrayList<>();
for(var i = 0; i < 5; i++){
	impureOutput.add(impureFunc(5));
}
var pureOutput = new ArrayList<>();
for(var i = 0; i < 5; i++){
	pureOutput.add(pureFunc(5));
}
System.out.println("Impure result: " + impureOutput); // result is inconsistent however input is same.
System.out.println("Pure result: " + pureOutput);
}

							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Pure vs Impure functions

							Functional

							``` java
Function<Integer, Double> impureFunc = value ->
Math.random() * value;
Function<Integer, Double> pureFunc = value ->
Double.valueOf(value * value);

BiFunction<Function<Integer, Double>, Integer, List<Double>> populate = (fun, limit) ->
IntStream.rangeClosed(0, limit).boxed()
	.map(fun)
	.collect(toUnmodifiableList());

var impureOutput = populate.apply(impureFunc, 5);
var pureOutput = populate.apply(pureFunc, 5);

System.out.println("Impure result: " + impureOutput); // result is inconsistent however input is same.
System.out.println("Pure result: " + pureOutput);

							```
						</script>
					</section>

					<section data-markdown>
						<script type="text/template">
							## List manipulation

							``` java
var numbers = List.of(9, 10, 3, 4, 7, 3, 4);
var distinct = numbers.stream()
	.map(i -> i * i)
	.distinct()
	.peek(System.out::println)//Debug only
	.filter(i -> i > 50)
	.collect(toUnmodifiableList());

System.out.println(distinct);

							```
						</script>
					</section>

					<section>
						<h2>Equational reasoning</h2>
						<p>
						Equational reasoning lets you transform consistently
						(based on mathematical functional equations)
						some functions into another ones
						</p>
						<img src="./images/equationalReasoning.jpg" width="40%">
					</section>

					<section data-markdown>
						<script type="text/template">
							## Equational reasoning

							``` java

Function<List<Integer>, Integer> sum = list -> list.stream()
	.reduce(0, (i1, i2) -> i1 + i2);
Function<List<Integer>, Integer> divide = list ->
	sum.apply(list) / list.size();

System.out.println(divide.apply(list));


							```
						</script>
					</section>
					<section>
						<h2>Referential Transparency</h2>
						<p>
							Referential transparency is generally defined as the fact that an expression,
							in a program, may be replaced by its value (or anything having the same value)
							without changing the result of the program.
						</p>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Referential Transparency

							``` java
//x = 2 + (3 * 4)
//x = 2 + 12
//x = 14

BiFunction<Integer, Integer, Integer> add =
(i1, i2) -> i1 + i2;
BiFunction<Integer, Integer, Integer> mult =
(i1, i2) -> i1 * i2;

int result2 = add.apply(2, mult.apply(3, 4));
int result3 = add.apply(2, 12);
							```
						</script>
					</section>

https://dev.to/theodesp/explain-monads-like-im-five

The value may or may not exist!
The value may exists, but there are more than one of them :(
Getting the value would mean involving some kind of I/O operations...
The value may exists... eventually in the future.
The value may produce errors :(
The value may depend on some kind of a state of the outside world.
etc.

					<section>
						<h2>Monads</h2>
						<p>
							A monad is just a monoid in the category of endofunctors.
						</p>
						<p>
							A monad is a design pattern
						</p>

						<p>
							Monads apply a function that returns a wrapped value to a wrapped value
						</p>

						<ul>
							<li>a parameterized type M< T ></li>
							<li>a ‚Äúunit‚Äù function T -> M< T ></li>
							<li>a ‚Äúbind‚Äù operation: M< T > bind T -> M< U > = M < U > </li>
						</ul>

						<p>
							A monad acts as a container that abstracts away those quirks in the computations,
							and let us focus more on what we want to do with the contained values.
						</p>

						<p>
							All it takes be a Monad is to provide two functions which conform to three laws.
							The two functions:
						</p>

					</section>
					<section>
						<h2>Monads</h2>
						<p>
						Place a value into monadic context
						</p>
						<ul>
							<li>Haskell's Maybe: return / Just</li>
							<li>Scala's Option: Some</li>
							<li>Functional Java's Option: Option.some</li>
							<li>JDK8's Optional: Optional.of</li>
						</ul>
						<p>
						Apply a function in monadic context
						</p>
						<ul>
							<li>Haskell's Maybe: >>= (aka bind)</li>
							<li>Scala's Option: flatMap</li>
							<li>Functional Java's Option: flatMap</li>
							<li>JDK8's Optional: flatMap</li>
						</ul>
					</section>

					<section>
						<h2>Monads</h2>
						<p>Every monad need to pass the 3 Monad laws:</p>
						<ul>
							<li><strong>Left Identity:</strong> If we put a value in the monadic context and bind
								a Java Function to it, its the same as just applying the Function to a value</li>
							<li><strong>Right Identity:</strong> If we have a monad and bind that monad‚Äôs return method‚Ää‚Äî‚Ääit is the same
								as the original wrapped value</li>
							<li><strong>Associativity:</strong> If we have a sequence of functions applied to
								a monad and it doesn‚Äôt matter how they‚Äôre nested</li>
						</ul>
					</section>


                    https://viniciusluisr.wordpress.com/2016/11/06/monads-in-java/
                    https://blog.developer.atlassian.com/optional-broken/
                    https://medium.com/97-things/optional-is-a-law-breaking-monad-but-a-good-type-7667eb821081
                    https://gist.github.com/lestard/e28fb8a340737ffd9623
                    https://dzone.com/users/38615/ps24890.html


					<section data-markdown>
						<script type="text/template">
							## Monads

							``` java
//Left Identity:
Function<Integer, Optional> addOne = x -> Optional.of(x + 1);
Optional.of(5).flatMap(x -> addOne.apply(x))
.equals(addOne.apply(5));

//Right Identity:
Optional.of(5).flatMap(Optional::of).equals(Optional.of(5));

//Associativity:
Function<Integer, Optional> addTwo = i -> Optional.of(i + 2);
Function<Integer, Optional> addThree = i -> addOne.apply(i)
.flatMap(addTwo);
Optional.of(5).flatMap(x -> addOne.apply(x)).flatMap(addTwo)
.equals(Optional.of(5).flatMap(x -> addThree.apply(x)));

							```
						</script>
					</section>

					<section data-markdown>
						<script type="text/template">
							## Monads

							``` java

//Left Identity:
Function<Integer, Option> addOne = x -> Option.of(x + 1);
Option.of(5).flatMap(x -> addOne.apply(x))
.equals(addOne.apply(5));

//Right Identity:
Option.of(5).flatMap(Option::of).equals(Option.of(5));

//Associativity:
Function<Integer, Option> addTwo = i -> Option.of(i + 2);
Function<Integer, Option> addThree = i -> addOne.apply(i)
.flatMap(addTwo);
Option.of(5).flatMap(x -> addOne.apply(x)).flatMap(addTwo)
.equals(Option.of(5).flatMap(x -> addThree.apply(x)));

							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Monads

							``` java
//Problems with Optional
Function f = new Function<String, Optional<String>>() {
	@Override public Optional<String> apply(String str) {
		return str == null ? Optional.of("X") : Optional.of(str + str);
}};
then(f.apply(null)).isEqualTo(Optional.of("X"));
Assertions.assertThrows(NullPointerException.class, () -> {
	Optional.of(null).flatMap(f);
});
then(Optional.ofNullable(null).flatMap(f))
	.isEqualTo(Optional.empty());
then(Optional.of(1).map(a -> null)).isEqualTo(Optional.empty());
Assertions.assertThrows(NullPointerException.class, () -> {
	Optional.of(1).flatMap(a -> null);
});
									```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## Monads

							``` java
Function f2 = new Function<String, Option<String>>() {
	@Override public Option<String> apply(String str) {
		return str == null ? Option.of("X") : Option.of(str + str);
}};

then(f2.apply(null)).isEqualTo(Option.of("X"));
then(Option.of(null).flatMap(f2)).isEqualTo(Option.none());
then(Option.of(1).map(a -> null)).isEqualTo(Option.some(null));
then(Option.of(1).flatMap(a -> null)).isEqualTo(null);

							```
						</script>
					</section>
					-->
				<!--
					<section>
						<h2>Effects</h2>
						<p>
							An effect is the thing a monad handles
						</p>
						<ul>
							<li><strong>Optional</strong> is a monad that models the effect of optionality (of something being optional)</li>
							<li><strong>CompletableFuture</strong> is a monad that models latency as an effect</li>
							<li><strong>Try</strong> is a monad that models the effect of failures (manages exceptions as effects)</li>
							<li><strong>Either</strong> is a monad that models the effect of failure and success</li>
						</ul>
					</section>
					-->

					<!--

					<section>
						<h2>Side Effects</h2>
						<p>
							Side effects include:
						</p>
						<ul>
							<li>Modifying any external variable or object property</li>
							<li>Logging to the console</li>
							<li>Writing to the screen</li>
							<li>Writing to a file</li>
							<li>Writing to the network</li>
							<li>Triggering any external process</li>
							<li>Calling any other functions with side-effects</li>
						</ul>
					</section>
					-->
					<!--
					<section>
						<h2>Programming paradigms</h2>
						<img src="./images/paradigms.png">
					</section>
					<section>
						<h2>Programming paradigms</h2>
						<table>
							<tbody>
							<tr>
								<td>Imperative</td>
								<td>Control flow is explicit.
									Commands show how the computation takes place, step by step.
								</td>
							</tr>
							<tr>
								<td>Declarative</td>
								<td>Control flow is implicit.
									the developer states only what the results should look like,
									not how to obtain it.
								</td>
							</tr>
							<tr>
								<td>Functional</td>
								<td>Control flow is expressed by combining function calls
									rather than by assigning values to variables.
								</td>
							</tr>
							</tbody>
						</table>
					</section>
					<section>
						<h2>Programming paradigms</h2>
						<table>
							<tbody>
							<tr>
								<td>Object-oriented</td>
								<td>Computation is affected by sending messages to objects.
									Objects has state and behaviour.
								</td>
							</tr>
							<tr>
								<td>Event-driven</td>
								<td>Control flow is determined by asynchronous actions.</td>
							</tr>
							</tbody>
						</table>
					</section>
					-->
				<!--
				</section>
				-->

				<section data-background="#FFFFFF">
					<section>
						<h2>Sharpening the axe</h2>

						<img src="images/axe.png" width="60%"/>
						<!--
						<blockquote>
							Give me six hours to chop down a tree and I will spend the first four sharpening the axe.<br />
							- Abraham Lincoln
						</blockquote>
						<p>&nbsp;</p>
						-->
						<ul>
							<li><a href="https://projecteuler.net/archives" target="_blank">Euler</a>: Synchronous problems</li>
							<li><a href="https://github.com/jabrena/latency-problems" target="_blank">Latency</a>: Asynchronous problems</li>
							<!-- <li><a href="https://github.com/jabrena/type-problems" target="_blank">Type</a>: Type Driven Development <problems></problems></li> -->
						</ul>
					</section>
				</section>
				<!--
				<section data-background="#FFFFFF">
					<section data-markdown >
						<script type="text/template">
						## The next level

						``` java
public Mono<BigInteger> reactorSolution() {

	return Flux.range(0, config.getList().size())
		.publishOn(scheduler)
		.map(i -> toURL.andThen(fetch).apply(config.getList().get(i)))
		.timeout(
			Duration.ofSeconds(config.getTimeout()),
			Flux.just(""))
		.flatMap(serializeFlux)
		.filter(godStartingByn)
		.log()
		.map(toDigits.andThen(concatDigits).andThen(BigInteger::new))
		.reduce(BigInteger.ZERO, (l1, l2) -> l1.add(l2));
}
						```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
						## The next level

						``` java
public Mono<String> reactorSolution() {

	return Flux.empty()
		.transform(fetchGreekGods)
		.transform(fetchWikipediaGodInfo)
		.transform(max)
		.next();
}
						```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
						## The next level

						``` java
Function<Object, Flux<String>> fetchGreekGods = obj -> {

	return Flux.just(this.config.getApiMap().get(GREEK))
		.publishOn(Schedulers.immediate())
		.map(toURL)
		.map(fetch)
		.flatMap(serializeFlux)
		.log();
};
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## The next level

							``` java
Function<Flux<String>, Flux<Tuple2<String, Integer>>> fetchWikipediaGodInfo = god -> {

	return Flux.from(god)
		.publishOn(Schedulers.elastic())
		.map(str -> {
			return new Tuple2<String, Integer>(str, generateWikiAddress
				.andThen(toURL)
				.andThen(fetch)
				.andThen(String::length)
				.apply(str));
		})
		.log();
};
								```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## The next level

							``` java
Function<Object, Flux<String>> fetchGreekGods = obj -> {

	return Flux.just(this.config.getApiMap().get(GREEK))
		.publishOn(Schedulers.immediate())
		.map(toURL)
		.map(fetch)
		.flatMap(serializeFlux)
		.log();
};
							```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
							## The next level

							``` java
Function<Flux<Tuple2<String, Integer>>, Flux<String>> max = godInfo -> {

	return Flux.from(godInfo)
		.publishOn(Schedulers.immediate())
		.sort(Comparator.comparing(Tuple2::_2))
		.takeLast(1)
		.map(t -> t._1)
		.log();
};
							```
						</script>
					</section>
				</section>
				<section data-background="#FFFFFF">
					<h2>Pending stuff</h2>
					<ul>
						<li>IO Monad vs CompletableFuture</li>
						<li>Validation pattern (Bean validation vs YAVI)</li>
						<li>For comprehension</li>
                        <li>Immutable data structures</li>
						<li>Category theory</li>
					</ul>
				</section>
				-->

				<!--
				<section data-background="#ffffff">
					<section>
						<h2>References</h2>
						<h4>Links</h4>
						<ul>
							<li><a href="https://www.vavr.io/vavr-docs/" target="_blank">VAVR docs</a></li>
							<li><a href="https://pivovarit.github.io/talks/functional-exception-handling" target="_blank">Functional Exception Handling in Java</a></li>
							<li><a href="http://normanmaurer.me/blog/2013/11/09/The-hidden-performance-costs-of-instantiating-Throwables/" target="_blank">The hidden performance costs of instantiating Throwables</a> </li>
							<li><a href="https://shipilev.net/blog/2014/exceptional-performance/" target="_blank">The Exceptional Performance of Lil' Exception</a> </li>
							<li><a href="https://www.javaspecialists.eu/archive/Issue187.html" target="_blank">Cost of Causing Exceptions</a></li>
                            <li><a href="https://www.slideshare.net/ScottWlaschin/railway-oriented-programming" target="_blank">Railway Oriented Programming</a></li>
							<li><a href="https://es.slideshare.net/mariofusco/monadic-java" target="_blank">Monadic Java</a></li>
							<li><a href="https://es.slideshare.net/DubsVadim/javaz-functional" target="_blank">Functional design in Java 8</a></li>
						</ul>
					</section>
					<section>
						<h2>References</h2>
						<h4>Links</h4>
						<ul>
							<li><a href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html" target="_blank">Functors, Applicatives, And Monads In Pictures</a></li>
							<li><a href="https://es.slideshare.net/jdegoes/error-management-future-vs-zio" target="_blank">Error Management: Future vs ZIO</a> </li>
							<li><a href="https://medium.com/@sderosiaux/are-scala-futures-the-past-69bd62b9c001" target="_blank">Are Scala Futures the past?</a></li>
							<li><a href="http://learnyouahaskell.com/a-fistful-of-monads#monad-laws" target="_blank">Monad laws</a></li>
							<li><a href="https://gist.github.com/ms-tg/7420496#file-jdk8_optional_monad_laws-java" target="_blank">Does JDK8's Optional class satisfy the Monad laws?</a></li>
							<li><a href="https://dev.to/theodesp/explain-monads-like-im-five" target="_blank">Explain Monads Like I'm five</a> </li>
						</ul>
					</section>

					<section>
						<h2>References</h2>
						<h4>Books</h4>
						<table>
							<tr>
								<td>
									<a href="https://www.amazon.co.uk/Java-High-Performance-applications-concurrency/dp/1787120783/ref=sr_1_2?ie=UTF8&qid=1520287203&sr=8-2&keywords=java+high+performance" target="_blank">
										<img src="./images/functionalProgrammingJava.jpg" width="70%" />
									</a>
								</td>
								<td>
									<a href="https://www.amazon.es/Java-Action-Lambdas-functional-style-programming/dp/1617291994" target="_blank">
										<img src="./images/java8inaction.jpg" width="72%" />
									</a>
								</td>
							</tr>
						</table>
					</section>

					<section>
						<h2>References</h2>
						<h4>Books</h4>
						<table>
							<tr>
								<td>
									<a href="https://www.amazon.com/Reactive-Streams-Java-Concurrency-Reactor-ebook/dp/B07L1KKJVB/ref=sr_1_1?crid=39AYYV6VMCZ1E&keywords=reactive+streams+in+java&qid=1563289095&s=books&sprefix=reactive+streams%2Cstripbooks-intl-ship%2C233&sr=1-1" target="_blank">
										<img src="./images/reactiveStreamsInJava.jpg" />
									</a>
								</td>
								<td>
									<a href="https://www.amazon.com/Hands-Reactive-Programming-Spring-cloud-ready-ebook/dp/B076QCBXZ2/ref=sr_1_2?crid=1QMFP7NKVYBZD&keywords=reactive+programming&qid=1563289165&s=books&sprefix=reactive+programming%2Cstripbooks-intl-ship%2C231&sr=1-2" target="_blank">
										<img src="./images/reactiveProgrammingSpring5.jpg" />
									</a>
								</td>
							</tr>
						</table>
					</section>
					<section>
						<h2>References</h2>
						<h4>Books</h4>
						<table>
							<tr>
								<td>
									<a href="https://www.amazon.com/Functional-Programming-Simplified-Alvin-Alexander-ebook/dp/B076J7CJKY/ref=sr_1_1?crid=22NAHIR8RUFUO&keywords=functional+programming+simplified&qid=1563289068&s=books&sprefix=functional+programming+si%2Cstripbooks-intl-ship%2C247&sr=1-1" target="_blank">
										<img src="./images/functionalProgrammingSimplified.jpg" />
									</a>
								</td>
								<td>
									<a href="https://www.blurb.es/b/9008339-category-theory-for-programmers" target="_blank">
										<img src="./images/categoryTheoryForProgrammers.jpg" width="50%" />
									</a>
								</td>
							</tr>
						</table>
					</section>

				</section>
				-->
                <section data-background="#FFFFFF">
                    <section>
                        <h2>Acknowledgements</h2>
                        <ul>
                            <li><a href="https://twitter.com/jdegoes" target="_blank">John A De Goes</a></li>
                            <li><a href="https://twitter.com/raulraja" target="_blank">Ra√∫l Raja</a></li>
                            <li><a href="https://twitter.com/danieldietrich" target="_blank">Daniel Dietrich</a></li>
                            <li><a href="https://twitter.com/rbrtwnklr" target="_blank">Robert Winkler</a></li>
                            <li><a href="https://twitter.com/pivovarit" target="_blank">Grzegorz Piwowarek</a></li>
                            <li><a href="https://twitter.com/JuanMedinaCode" target="_blank">Juan Antonio Medina</a></li>
                        </ul>
                    </section>
                </section>
                <section data-background="#FFFFFF">
                    <section>
                        <h2>Future talks</h2>
                        <ul>
							<li>Microframeworks: <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html" target="_blank">Webflux</a> & <a href="https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/" target="_blank">Spring Security</a></li>
                            <li>Reactive Streams: <a href="https://projectreactor.io/docs/core/release/reference/" target="_blank">Reactor</a></li>
							<li>Reactive programming patterns: <a href="https://resilience4j.readme.io/docs" target="_blank">Resilience4J</a></li>
							<!-- <li>JPMS for Webflux microservices</li> -->
							<!-- <li>Functional programming on <a href="https://kotlinlang.org/docs/reference/" target="_blank">Kotlin</a>: <a href="https://arrow-kt.io/docs/" target="_blank">Arrow</a></li> -->
							<!-- <li>GraalVM for Webflux</li> -->
							<!-- <li>ZIO for Java</li> -->

						</ul>
                    </section>
                </section>

				<section data-background="#FFFFFF">
                    <!-- https://www.the-qrcode-generator.com/ -->
                    <!--
					<section data-background="images/vavr_logo.png"
                             data-background-repeat="repeat"
                             data-background-size="100px">
                    -->
					<section>
						<p>
                        	<img src="./images/categoryTheory.png" width=30%"/>
						</p>
						<p>
							<a href="https://twitter.com/juanantoniobm" target="_blank">@juanantoniobm</a>
						</p>
						<p>Thanks</p>
					</section>
				</section>

			</div>

		</div>

		<script src="js/reveal.js"></script>

		<script>

            Reveal.configure({ slideNumber: true });
            Reveal.configure({ slideNumber: 'c/t' });

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true },
					{ src: 'plugin/search/search.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
